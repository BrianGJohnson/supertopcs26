# Page 4 Data Schema: Super Topic

> **Source of Truth** for the JSON payload and database schema.

---

## 1. GPT-5 Mini Response (Per Phrase)

Each of the 13 calls returns this structure:

```typescript
interface SuperTopicAnalysis {
  // Scores (3)
  scores: {
    growthFitScore: number;    // 0-99
    clickabilityScore: number; // 0-99
    intentScore: number;       // 0-99
  };

  // Video Format (3)
  videoFormat: {
    primaryBucket: string;     // Info, Opinion, Review, etc.
    subFormat: string;         // Tutorial, Hot Take, etc.
    alternateFormats: string[]; // Array of 2
  };

  // Emotional Format (3)
  emotionalFormat: {
    primaryEmotion: string;    // Curiosity, Fear, Hope, etc.
    secondaryEmotion: string;
    mindset: string;           // Positive, Negative, Neutral, Insightful
  };

  // Algorithm Targets (1)
  algorithmTargets: string[];  // Array of 2-3

  // Core Content (4)
  coreContent: {
    viewerGoal: string;        // Learn, Validate, Solve, Vent, Be Entertained
    viewerAngle: string;       // 1 sentence
    porchTalk: string;         // 2 sentences
    hook: string;              // 1-2 sentences
  };

  // Text Sections (3)
  textSections: {
    viewerGoalDescription: string;      // 2-3 sentences
    whyThisCouldWork: string;           // 2-3 sentences
    algorithmAngle: string;             // 2-3 sentences
  };
}
```

---

## 2. Database Schema (super_topics table)

All fields are stored in the `super_topics` table (defined in `src/server/db/schema.ts`):

```sql
-- Page 4 GPT-5 Mini Analysis (17 fields)

-- Scores (3)
growth_fit_score INTEGER,
clickability_score INTEGER,
intent_score INTEGER,

-- Video Format (3)
primary_bucket TEXT,
sub_format TEXT,
alternate_formats JSONB,

-- Emotional Format (3)
primary_emotion TEXT,
secondary_emotion TEXT,
mindset TEXT,

-- Algorithm Targets (1)
algorithm_targets JSONB,

-- Core Content (4)
viewer_goal TEXT,
viewer_angle TEXT,
porch_talk TEXT,
hook TEXT,

-- Text Sections (3)
viewer_goal_description TEXT,
why_this_could_work TEXT,
algorithm_angle_description TEXT,

-- Page 4 Display (3)
is_winner BOOLEAN DEFAULT FALSE,
tier TEXT,
rank_order INTEGER
```

---

## 3. TypeScript Types

Types are auto-generated by Drizzle ORM:

```typescript
import { SuperTopic, NewSuperTopic } from '@/server/db/schema';
```

---

*Last Updated: December 8, 2025*
